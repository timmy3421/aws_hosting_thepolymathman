{
    "environment":[
        {
            "branch":"main",
            "space":"prod",
            "priority":"1",
            "spacedata":[
                {
                    "url":"thepolymathman.io",
                    "app_token":"GITHUB_PERSONAL_ACCESS_TOKEN",
                    "app_owner_repo":"timmy3421/thepolymathman",
                    "cdk_hosting_token":"GITHUB_PERSONAL_ACCESS_TOKEN",
                    "cdk_hosting_owner_repo":"timmy3421/aws_hosting_thepolymathman",
                    "code_build_step_commands":["npm install -g aws-cdk", 
                        "python -m pip install -r requirements.txt",
                        "cdk deploy AwsHostingThepolymathmanProdStack --context space=prod --require-approval never"
                    ],
                    "cdk_pipeline_iam_policystatement":[
                        "secretsmanager:*",
                        "s3:*",
                        "cloudformation:CreateChangeSet",
                        "cloudformation:DescribeChangeSet",
                        "cloudformation:DescribeStackResource",
                        "cloudformation:DescribeStacks",
                        "cloudformation:DeleteStack",
                        "cloudformation:ExecuteChangeSet",
                        "cloudformation:DeleteChangeSet",
                        "cloudformation:DescribeStackEvents",
                        "cloudformation:GetTemplate",
                        "ec2:DescribeSecurityGroups",
                        "ec2:DescribeSubnets",
                        "ec2:DescribeVpcs",
                        "ecr:SetRepositoryPolicy",
                        "ecr:GetLifecyclePolicy",
                        "ecr:PutImageTagMutability",
                        "ecr:DescribeRepositories",
                        "ecr:ListTagsForResource",
                        "iam:GetRole",
                        "iam:PassRole",
                        "kms:DescribeKey",
                        "kms:ListAliases",
                        "kms:ListKeys",
                        "lambda:ListFunctions",
                        "tag:GetResources",
                        "ssm:GetParameter",
                        "ssm:GetParameters",
                        "ssm:PutParameter"
                    ],
                    "gatsbycfg_ga4_tracking_id":"G-XXXXXXXXXX"
                }
                ]
        },
        {
            "branch":"qa",
            "space":"qa",
            "priority":"2",
            "spacedata":[
                {
                    "url":"thepolymathman.com",
                    "app_token":"GITHUB_PERSONAL_ACCESS_TOKEN",
                    "app_owner_repo":"timmy3421/thepolymathman",
                    "cdk_hosting_token":"GITHUB_PERSONAL_ACCESS_TOKEN",
                    "cdk_hosting_owner_repo":"timmy3421/aws_hosting_thepolymathman",
                    "code_build_step_commands":["npm install -g aws-cdk", 
                    "python -m pip install -r requirements.txt",
                    "cdk deploy AwsHostingThepolymathmanQaStack --context space=qa --require-approval never"
                    ],
                    "cdk_pipeline_iam_policystatement":[
                        "secretsmanager:*",
                        "s3:*",
                        "cloudformation:CreateChangeSet",
                        "cloudformation:DescribeChangeSet",
                        "cloudformation:DescribeStackResource",
                        "cloudformation:DescribeStacks",
                        "cloudformation:DeleteStack",
                        "cloudformation:ExecuteChangeSet",
                        "cloudformation:DeleteChangeSet",
                        "cloudformation:DescribeStackEvents",
                        "cloudformation:GetTemplate",
                        "ec2:DescribeSecurityGroups",
                        "ec2:DescribeSubnets",
                        "ec2:DescribeVpcs",
                        "ecr:SetRepositoryPolicy",
                        "ecr:GetLifecyclePolicy",
                        "ecr:PutImageTagMutability",
                        "ecr:DescribeRepositories",
                        "ecr:ListTagsForResource",
                        "iam:GetRole",
                        "iam:PassRole",
                        "kms:DescribeKey",
                        "kms:ListAliases",
                        "kms:ListKeys",
                        "lambda:ListFunctions",
                        "tag:GetResources",
                        "ssm:GetParameter",
                        "ssm:GetParameters",
                        "ssm:PutParameter"
                    ],
                    "gatsbycfg_ga4_tracking_id":"G-XXXXXXXXXX"
                }
                ]
        }
        ]
}